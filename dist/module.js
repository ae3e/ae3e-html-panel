define(["react","@grafana/ui","@grafana/data","@grafana/runtime"],(function(e,t,n,r){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=6)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";(function(e){var r=n(0);function i(t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var r,i,o="undefined"!=typeof document&&document.attachEvent;if(!o){var a=(i=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)},function(e){return i(e)}),s=(r=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(e){return r(e)}),l=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},u=!1,d="",f="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),_=document.createElement("fakeelement");if(void 0!==_.style.animationName&&(u=!0),!1===u)for(var m=0;m<p.length;m++)if(void 0!==_.style[p[m]+"AnimationName"]){d="-"+p[m].toLowerCase()+"-",f=h[m],u=!0;break}var g="resizeanim",v="@"+d+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",y=d+"animation: 1ms "+g+"; "}return{addResizeListener:function(e,r){if(o)e.attachEvent("onresize",r);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,a=n.getComputedStyle(e);a&&"static"==a.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(v||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),r.appendChild(i)}}(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers";var s=i.createElement("div");s.className="expand-trigger",s.appendChild(i.createElement("div"));var u=i.createElement("div");u.className="contract-trigger",e.__resizeTriggers__.appendChild(s),e.__resizeTriggers__.appendChild(u),e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",c,!0),f&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==g&&l(e)},e.__resizeTriggers__.addEventListener(f,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(o)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e){function t(){var e,n,r;o(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,f=o-u-d,p=a-l-c;(!t&&r.state.height!==f||!n&&r.state.width!==p)&&(r.setState({height:o-u-d,width:a-l-c}),i({height:o,width:a}))}},r._setRef=function(e){r._autoSizer=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.disableHeight,o=e.disableWidth,a=e.style,l=this.state,c=l.height,u=l.width,d={overflow:"visible"},f={},p=!1;return i||(0===c&&(p=!0),d.height=0,f.height=c),o||(0===u&&(p=!0),d.width=0,f.width=u),Object(r.createElement)("div",{className:n,ref:this._setRef,style:s({},d,a)},!p&&t(f))}}]),t}(r.PureComponent);c.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=c}).call(this,n(5))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(2),i="console.log(ctxt)\n//document.getElementById('myval').innerHTML=ctxt.data.series[0].fields[1].values.buffer[0]\nhtml.querySelector('#myval').innerHTML=ctxt.data.series[0].fields[1].values.data.values[0]",o='Value : <span id="myval">Test</span>',a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var s=n(0),l=n.n(s),c=n(3);window.updateVariables=Object(c.getLocationSrv)().update;var u=new Function("",'return "Error"'),d=function(e){function t(t){var n=e.call(this,t)||this;return n.updateHTML=function(){var e=document.createRange().createContextualFragment(n.props.options.html);n.state.htmlNode.current.innerHTML="",n.state.htmlNode.current.appendChild(e)},n.updateHTMLWithScript=function(){try{u(n.props,n.state.htmlNode.current)}catch(e){}},n.state={html:t.options.html,htmlNode:l.a.createRef()},u=new Function("ctxt,html",n.props.options.script),n}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.updateHTML(),this.updateHTMLWithScript()},t.prototype.componentDidUpdate=function(e){if(this.props.options.html!==e.options.html&&this.updateHTML(),this.props.options.script!==e.options.script)try{u=new Function("ctxt,html",this.props.options.script)}catch(e){}this.updateHTMLWithScript()},t.prototype.render=function(){return l.a.createElement("div",{style:{width:"100%",height:"100%"},ref:this.state.htmlNode})},t}(s.PureComponent),f=n(1),p=n(4);var h=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},_={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var m=/[A-Z]|^ms/g,g=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v=function(e){return 45===e.charCodeAt(1)},y=function(e){return null!=e&&"boolean"!=typeof e},b=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return v(e)?e:e.replace(m,"-$&").toLowerCase()})),w=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(g,(function(e,t,n){return x={name:t,styles:n,next:x},t}))}return 1===_[e]||v(e)||"number"!=typeof t||0===t?t:t+"px"};function z(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return x={name:n.name,styles:n.styles,next:x},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)x={name:i.name,styles:i.styles,next:x},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=z(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":y(a)&&(r+=b(o)+":"+w(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=z(e,t,a,!1);switch(o){case"animation":case"animationName":r+=b(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)y(a[l])&&(r+=b(o)+":"+w(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=x,a=n(e);return x=o,z(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var x,C=/label:\s*([^\s;\n{]+)\s*;/g;var O=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";x=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=z(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=z(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);C.lastIndex=0;for(var s,l="";null!==(s=C.exec(i));)l+="-"+s[1];return{name:h(i)+l,styles:i,next:x}};var E,L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O(t)},S=function(e){var t=e.value,n=e.item,r=e.onChange;"string"!=typeof t&&(t=JSON.stringify(t,null,2));var i,o,a=Object(f.useTheme)();return l.a.createElement(p.a,{disableHeight:!0,className:L(E||(i=["\n    margin-bottom: ",";\n  "],o=["\n    margin-bottom: ",";\n  "],Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,E=i),a.spacing.sm)},(function(e){var i,o,a,s=e.width;return l.a.createElement(f.CodeEditor,{language:null===(i=n.settings)||void 0===i?void 0:i.language,showLineNumbers:"javascript"===(null===(o=n.settings)||void 0===o?void 0:o.language),value:"null"===t?null===(a=n.settings)||void 0===a?void 0:a.initValue:t,width:s,height:"200px",onBlur:function(e){r(e)}})}))};n.d(t,"plugin",(function(){return N}));var N=new r.PanelPlugin(d).setPanelOptions((function(e){return e.addCustomEditor({id:"html",path:"html",name:"Html",description:"\n        Html code\n        ",editor:S,category:["Html"],settings:{language:"html"},defaultValue:o}).addCustomEditor({id:"script",path:"script",name:"Script",description:"\n        Script executed when chart is clicked.\n        f(data){...your code...}",editor:S,category:["Script"],settings:{language:"javascript"},defaultValue:i})}))}])}));
//# sourceMappingURL=module.js.map